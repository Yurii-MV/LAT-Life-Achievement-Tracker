<!doctype html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <title>Life Achievement Tracker</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="appicon.png" sizes="192x192" type="image/png" />
    <link rel="shortcut icon" href="appicon.png" />
    <link rel="apple-touch-icon" href="appicon.png" />
    <meta name="theme-color" content="#667eea" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Achievements" />
  </head>
  <body>
    <div class="container">
      <header>
        <img
          src="cuplat.png"
          alt="Life Achievement Tracker"
          class="header-logo"
        />
        <p>Life Achievement Tracker</p>
      </header>
      <input
        type="file"
        id="importFile"
        accept=".json"
        style="display: none"
        onchange="handleImportFile(event)"
      />

      <div class="stats">
        <div class="stat-card">
          <span class="stat-number"
            ><span id="unlockedCount">0</span> /
            <span id="totalCount">0</span></span
          >
          <span class="stat-label">–í–∏–∫–æ–Ω–∞–Ω–æ –¥–æ—Å—è–≥–Ω–µ–Ω—å</span>
        </div>
      </div>

      <div class="categories" id="categoriesContainer"></div>
    </div>

    <div class="modal" id="achievementModal">
      <div class="modal-content">
        <div class="modal-icon" id="modalIcon">üéâ</div>
        <h2 id="modalTitle">–î–æ—Å—è–≥–Ω–µ–Ω–Ω—è –≤—ñ–¥–∫—Ä–∏—Ç–æ!</h2>
        <p id="modalDescription"></p>
        <button onclick="closeModal()">–°—É–ø–µ—Ä!</button>
      </div>
    </div>

    <div class="modal" id="imageModal" onclick="closeImageModal()">
      <div class="image-modal-content">
        <img id="imageModalImg" src="" alt="–ü–æ–≤–Ω–∏–π —Ä–æ–∑–º—ñ—Ä" />
      </div>
    </div>

    <div class="form-modal" id="formModal">
      <div class="form-content">
        <h2 id="formTitle">–î–æ–¥–∞—Ç–∏ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è</h2>
        <form id="achievementForm" onsubmit="saveAchievement(event)">
          <div class="form-group">
            <label for="categorySelect">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</label>
            <select id="categorySelect" required>
              <option value="">–û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é</option>
            </select>
          </div>

          <div class="form-group">
            <label for="achievementName">–ù–∞–∑–≤–∞ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è</label>
            <input type="text" id="achievementName" required maxlength="50" />
          </div>

          <div class="form-group">
            <label for="achievementDescription">–û–ø–∏—Å (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</label>
            <textarea id="achievementDescription" maxlength="100"></textarea>
          </div>

          <div class="form-group">
            <label>–Ü–∫–æ–Ω–∫–∞ –∞–±–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</label>
            <div
              class="image-upload-area"
              onclick="document.getElementById('imageUpload').click()"
            >
              <input
                type="file"
                id="imageUpload"
                accept="image/*"
                onchange="handleImageUpload(event)"
              />
              <div id="uploadContent">
                <div class="upload-text">
                  –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å, —â–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è<br />–∞–±–æ –æ–±–µ—Ä—ñ—Ç—å –µ–º–æ–¥–∑—ñ
                  –Ω–∏–∂—á–µ
                </div>
              </div>
              <img
                id="previewImage"
                class="preview-image"
                style="display: none"
              />
            </div>
          </div>

          <div class="form-group">
            <label>–ê–±–æ –æ–±–µ—Ä—ñ—Ç—å –µ–º–æ–¥–∑—ñ</label>
            <div class="emoji-picker" id="emojiPicker"></div>
          </div>

          <input type="hidden" id="achievementId" />
          <input type="hidden" id="achievementImage" />
          <input type="hidden" id="editingCategory" />

          <div class="form-buttons">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeFormModal()"
            >
              –°–∫–∞—Å—É–≤–∞—Ç–∏
            </button>
            <button type="submit" class="btn btn-primary">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
          </div>
        </form>
      </div>
    </div>

    <div class="form-modal" id="categoryModal">
      <div class="form-content">
        <h2 id="categoryFormTitle">–î–æ–¥–∞—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é</h2>
        <form id="categoryForm" onsubmit="saveCategory(event)">
          <div class="form-group">
            <label for="categoryName">–ù–∞–∑–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</label>
            <input
              type="text"
              id="categoryName"
              required
              maxlength="30"
              placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –•–æ–±—ñ, –ù–∞–≤—á–∞–Ω–Ω—è"
            />
          </div>

          <div class="form-group">
            <label>–Ü–∫–æ–Ω–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</label>
            <div
              class="image-upload-area"
              onclick="document.getElementById('categoryImageUpload').click()"
            >
              <input
                type="file"
                id="categoryImageUpload"
                accept="image/*"
                onchange="handleCategoryImageUpload(event)"
              />
              <div id="categoryUploadContent">
                <div class="upload-text">
                  –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å, —â–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è<br />–∞–±–æ –æ–±–µ—Ä—ñ—Ç—å –µ–º–æ–¥–∑—ñ
                  –Ω–∏–∂—á–µ
                </div>
              </div>
              <img
                id="categoryPreviewImage"
                class="preview-image"
                style="display: none"
              />
            </div>
          </div>

          <div class="form-group">
            <label>–ê–±–æ –æ–±–µ—Ä—ñ—Ç—å –µ–º–æ–¥–∑—ñ</label>
            <div class="emoji-picker" id="categoryEmojiPicker"></div>
          </div>

          <input type="hidden" id="categoryKey" />
          <input type="hidden" id="categoryIcon" />

          <div class="form-buttons">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeCategoryModal()"
            >
              –°–∫–∞—Å—É–≤–∞—Ç–∏
            </button>
            <button type="submit" class="btn btn-primary">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
          </div>
        </form>
      </div>
    </div>

    <div class="form-modal" id="settingsModal">
      <div class="form-content">
        <h2>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–µ–º–∏</h2>
        <form id="settingsForm" onsubmit="saveSettings(event)">
          <div class="form-group">
            <label for="themeColor1">–ö–æ–ª—ñ—Ä 1</label>
            <input type="color" id="themeColor1" value="#667eea" />
          </div>

          <div class="form-group">
            <label for="themeColor2">–ö–æ–ª—ñ—Ä 2</label>
            <input type="color" id="themeColor2" value="#764ba2" />
          </div>

          <div class="form-group">
            <label for="themeAngle">–ö—É—Ç –≥—Ä–∞–¥—ñ—î–Ω—Ç–∞ (¬∞)</label>
            <input
              type="number"
              id="themeAngle"
              min="0"
              max="360"
              value="135"
            />
          </div>

          <div class="form-group">
            <label>–ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥</label>
            <div
              id="gradientPreview"
              style="
                height: 80px;
                border-radius: 8px;
                border: 1px solid #e0e0e0;
              "
            ></div>
          </div>

          <div class="form-buttons">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeSettingsModal()"
            >
              –°–∫–∞—Å—É–≤–∞—Ç–∏
            </button>
            <button type="submit" class="btn btn-primary">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
          </div>
        </form>
      </div>
    </div>

    <div class="form-modal" id="quickActionsModal">
      <div class="form-content">
        <h2>–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏</h2>
        <div class="quick-actions-grid">
          <button
            type="button"
            class="quick-action-btn"
            onclick="runQuickAction('export')"
            title="–ï–∫—Å–ø–æ—Ä—Ç"
          >
            üíæ –ï–∫—Å–ø–æ—Ä—Ç
          </button>
          <button
            type="button"
            class="quick-action-btn"
            onclick="runQuickAction('import')"
            title="–Ü–º–ø–æ—Ä—Ç"
          >
            üì• –Ü–º–ø–æ—Ä—Ç
          </button>
          <button
            type="button"
            class="quick-action-btn"
            onclick="runQuickAction('storage')"
            title="–°—Ö–æ–≤–∏—â–µ"
          >
            üóÑÔ∏è –°—Ö–æ–≤–∏—â–µ
          </button>
          <button
            type="button"
            class="quick-action-btn"
            onclick="runQuickAction('theme')"
            title="–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–µ–º–∏"
          >
            üé® –¢–µ–º–∞
          </button>
        </div>
        <div class="form-buttons" style="margin-top: 18px">
          <button
            type="button"
            class="btn btn-secondary"
            onclick="closeQuickActionsModal()"
          >
            –ó–∞–∫—Ä–∏—Ç–∏
          </button>
        </div>
      </div>
    </div>

    <div class="confirm-modal" id="confirmImportModal">
      <div class="confirm-content">
        <div class="confirm-icon">‚ö†Ô∏è</div>
        <h2>–Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ?</h2>
        <p>–Ü–º–ø–æ—Ä—Ç –∑–∞–º—ñ–Ω–∏—Ç—å –≤—Å—ñ –ø–æ—Ç–æ—á–Ω—ñ –¥–∞–Ω—ñ.</p>
        <p>
          <strong
            >–†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è —Å–ø–æ—á–∞—Ç–∫—É –∑—Ä–æ–±–∏—Ç–∏ –µ–∫—Å–ø–æ—Ä—Ç –ø–æ—Ç–æ—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö!</strong
          >
        </p>
        <div class="confirm-buttons">
          <button class="btn-cancel" onclick="closeConfirmImport()">
            –°–∫–∞—Å—É–≤–∞—Ç–∏
          </button>
          <button class="btn-confirm" onclick="confirmImport()">
            –¢–∞–∫, —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏
          </button>
        </div>
      </div>
    </div>

    <div class="confirm-modal" id="storageInfoModal">
      <div class="confirm-content">
        <div class="confirm-icon">üíæ</div>
        <h2>–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å—Ö–æ–≤–∏—â–∞</h2>
        <p id="storageInfoMessage"></p>
        <div class="confirm-buttons">
          <button class="btn-cancel" onclick="closeStorageInfo()">
            –ó–∞–∫—Ä–∏—Ç–∏
          </button>
        </div>
      </div>
    </div>

    <div class="confirm-modal" id="confirmResetModal">
      <div class="confirm-content">
        <div class="confirm-icon">‚ö†Ô∏è</div>
        <h2>–°–∫–∏–Ω—É—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ?</h2>
        <p>
          –¶—è –¥—ñ—è –≤–∏–¥–∞–ª–∏—Ç—å –≤—Å—ñ –≤–∞—à—ñ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è, –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å. –ü—Ä–æ–≥—Ä–∞–º–∞
          –±—É–¥–µ –ø–æ–≤–µ—Ä–Ω–µ–Ω–∞ –¥–æ –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É.
        </p>
        <p><strong>–¶—é –¥—ñ—é –Ω–µ–º–æ–∂–ª–∏–≤–æ —Å–∫–∞—Å—É–≤–∞—Ç–∏!</strong></p>
        <div class="confirm-buttons">
          <button class="btn-cancel" onclick="closeConfirmReset()">
            –°–∫–∞—Å—É–≤–∞—Ç–∏
          </button>
          <button class="btn-confirm" onclick="confirmReset()">
            –¢–∞–∫, —Å–∫–∏–Ω—É—Ç–∏ –≤—Å–µ
          </button>
        </div>
      </div>
    </div>

    <div class="confirm-modal" id="confirmDeleteModal">
      <div class="confirm-content">
        <div class="confirm-icon">‚ö†Ô∏è</div>
        <h2 id="confirmDeleteTitle">–í–∏–¥–∞–ª–∏—Ç–∏?</h2>
        <p id="confirmDeleteMessage"></p>
        <div class="confirm-buttons">
          <button class="btn-cancel" onclick="closeConfirmDelete()">
            –°–∫–∞—Å—É–≤–∞—Ç–∏
          </button>
          <button class="btn-confirm" onclick="confirmDelete()">
            –¢–∞–∫, –≤–∏–¥–∞–ª–∏—Ç–∏
          </button>
        </div>
      </div>
    </div>

    <button
      class="reset-btn"
      onclick="openConfirmReset()"
      title="–°–∫–∏–Ω—É—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ"
    >
      <span>üîÑ</span>
      <span>–°–∫–∏–Ω—É—Ç–∏ –≤—Å–µ</span>
    </button>

    <div class="fab-menu" id="fabMenu">
      <button
        class="fab-btn fab-sub-btn"
        type="button"
        onclick="openAddFromFab()"
        title="–î–æ–¥–∞—Ç–∏ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è"
        aria-label="–î–æ–¥–∞—Ç–∏ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è"
      >
        üèÜ
      </button>
      <button
        class="fab-btn fab-sub-btn"
        type="button"
        onclick="openCategoryFromFab()"
        title="–î–æ–¥–∞—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é"
        aria-label="–î–æ–¥–∞—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é"
      >
        üìÅ
      </button>
      <button
        class="fab-btn fab-sub-btn"
        type="button"
        onclick="openQuickActionsModal()"
        title="–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è"
        aria-label="–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è"
      >
        ‚öôÔ∏è
      </button>
      <button
        class="fab-btn fab-main-btn"
        type="button"
        onclick="toggleFabMenu()"
        title="–ú–µ–Ω—é –¥–æ–¥–∞–≤–∞–Ω–Ω—è"
        aria-label="–í—ñ–¥–∫—Ä–∏—Ç–∏ –º–µ–Ω—é –¥–æ–¥–∞–≤–∞–Ω–Ω—è"
      >
        üí†
      </button>
    </div>

    <script src="app.js"></script>
    <footer class="ghost-footer" aria-hidden="true"></footer>
  </body>
</html>
